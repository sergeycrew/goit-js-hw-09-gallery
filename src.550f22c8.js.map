{"version":3,"sources":["gallery-items.js","index.js"],"names":["preview","original","description","refs","mainGallery","document","querySelector","galleryImage","galleryLink","jsLightbox","lightboxImage","lightboxButton","lightboxOverlay","galeryMarkup","createGallery","galleryItems","gallery","map","index","join","openJsLightbox","e","preventDefault","target","nodeName","bigUrl","dataset","source","imgAlt","alt","classList","add","src","closeJsLightbox","remove","closeJsWhileEsc","code","scrollGallery","parseInt","length","insertAdjacentHTML","addEventListener"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACX,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DJ,QAAA,QAAA;;ACuGf,aAvGA,IAAA,EAAA,EAAA,QAAA,oBAuGA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnGA,MAAMC,EAAO,CACTC,YAAaC,SAASC,cAAc,eACpCC,aAAcF,SAASC,cAAc,mBACrCE,YAAaH,SAASC,cAAc,kBACpCG,WAAYJ,SAASC,cAAc,gBACnCI,cAAeL,SAASC,cAAc,oBACtCK,eAAgBN,SAASC,cAAc,kCACvCM,gBAAiBP,SAASC,cAAc,uBAGtCO,EAAeC,EAAcC,EAAD,SAIlC,SAASD,EAAeE,GACbA,OAAAA,EAAQC,IAAI,EAAEjB,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,GAAagB,0GAKvClB,uFAICA,gCACQC,+BACDiB,wBACPhB,gDAKdiB,KAAK,IAOV,SAASC,EAAgBC,GAGjBA,GADJA,EAAEC,iBACwB,QAAtBD,EAAEE,OAAOC,SACT,OAEEC,MAAAA,EAASJ,EAAEE,OAAOG,QAAQC,OAC1BC,EAASP,EAAEE,OAAOM,IAClBX,EAAQG,EAAEE,OAAOG,QAAQR,MAE/Bf,EAAKM,WAAWqB,UAAUC,IAAI,WAC9B5B,EAAKO,cAAcsB,IAAMP,EACzBtB,EAAKO,cAAcmB,IAAMD,EACzBzB,EAAKO,cAAcgB,QAAQR,MAAQA,EASvC,SAASe,EAAgBZ,GAErBlB,EAAKM,WAAWqB,UAAUI,OAAO,WACjC/B,EAAKO,cAAcsB,IAAM,GACzB7B,EAAKO,cAAcmB,IAAM,GAM7B,SAASM,EAAiBd,GAEP,WAAXA,EAAEe,MACFH,IAOR,SAASI,EAAehB,EAAGL,GAGnBE,IAAAA,EAAQoB,SAASnC,EAAKO,cAAcgB,QAAQR,OACjC,cAAXG,EAAEe,MAAwBlB,EAAQ,IAClCA,GAAS,EACTf,EAAKO,cAAcgB,QAAQR,MAAQA,EACnCf,EAAKO,cAAcsB,IAAMhB,EAAQE,GAAOjB,SACxCE,EAAKO,cAAcmB,IAAMb,EAAQE,GAAOhB,aAE7B,eAAXmB,EAAEe,MAAyBlB,EAAQF,EAAQuB,OAAS,IACpDrB,GAAS,EACTf,EAAKO,cAAcgB,QAAQR,MAAQA,EACnCf,EAAKO,cAAcsB,IAAMhB,EAAQE,GAAOjB,SACxCE,EAAKO,cAAcmB,IAAMb,EAAQE,GAAOhB,aApFhDC,EAAKC,YAAYoC,mBAAmB,aAAc3B,GA2BlDV,EAAKC,YAAYqC,iBAAiB,QAASrB,GAqB3CjB,EAAKQ,eAAe8B,iBAAiB,QAASR,GAC9C9B,EAAKS,gBAAgB6B,iBAAiB,QAASR,GAU/C5B,SAASoC,iBAAiB,UAAWN,GAUrC9B,SAASoC,iBAAiB,UAAYpB,GAAMgB,EAAchB,EAAGN,EAAJ","file":"src.550f22c8.js","sourceRoot":"../src","sourcesContent":["export default [\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n    },\n  ];","import galleryItems from './gallery-items';\n\n// Создание и рендер разметки по массиву данных и предоставленному шаблону.\n\nconst refs = {\n    mainGallery: document.querySelector(\".js-gallery\"),\n    galleryImage: document.querySelector('.gallery__image'),\n    galleryLink: document.querySelector('.gallery__link'),\n    jsLightbox: document.querySelector('.js-lightbox'),\n    lightboxImage: document.querySelector('.lightbox__image'),\n    lightboxButton: document.querySelector('[data-action=\"close-lightbox\"]'),\n    lightboxOverlay: document.querySelector('.lightbox__overlay'),\n}\n\nconst galeryMarkup = createGallery(galleryItems)\nrefs.mainGallery.insertAdjacentHTML('afterbegin', galeryMarkup);\n\n\nfunction createGallery (gallery) {\n    return gallery.map(({preview, original, description},index) => {\n        return `\n        <li class=\"gallery__item\">\n        <a\n          class=\"gallery__link\"\n          href=\"${preview}\"\n        >\n          <img\n            class=\"gallery__image\"\n            src=\"${preview}\"\n            data-source=\"${original}\"\n            data-index=\"${index}\"\n            alt=\"${description}\"\n          />\n        </a>\n      </li> `\n    })\n    .join('');\n    \n}\n// Реализация делегирования на галерее ul.js-gallery и получение url большого изображения.\n// Открытие модального окна по клику на элементе галереи.\n\nrefs.mainGallery.addEventListener('click', openJsLightbox)\nfunction openJsLightbox (e) {\n    //console.log(e)\n    e.preventDefault();\n    if (e.target.nodeName !== 'IMG') {\n        return;\n    }\n    const bigUrl = e.target.dataset.source;\n    const imgAlt = e.target.alt;\n    const index = e.target.dataset.index;\n\n    refs.jsLightbox.classList.add('is-open');\n    refs.lightboxImage.src = bigUrl;\n    refs.lightboxImage.alt = imgAlt;\n    refs.lightboxImage.dataset.index = index;\n    \n}\n\n// Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"].\n// Закрытие модального окна по клику на div.lightbox__overlay.\n\nrefs.lightboxButton.addEventListener('click', closeJsLightbox)\nrefs.lightboxOverlay.addEventListener('click', closeJsLightbox)\nfunction closeJsLightbox(e) {\n    //console.log(e)\n    refs.jsLightbox.classList.remove('is-open');\n    refs.lightboxImage.src = '';\n    refs.lightboxImage.alt = ''\n}\n\n//Закрытие модального окна по нажатию клавиши ESC\n\ndocument.addEventListener('keydown', closeJsWhileEsc)\nfunction closeJsWhileEsc (e) {\n    //console.log(e)\n    if (e.code === 'Escape') {\n        closeJsLightbox()\n    }\n}\n\n//Пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\".\n\ndocument.addEventListener('keydown', (e) => scrollGallery(e, galleryItems)); \nfunction scrollGallery (e, gallery) {\n    //console.dir(refs.lightboxImage)\n    // console.dir(gallery)\n    let index = parseInt(refs.lightboxImage.dataset.index)\n    if (e.code === 'ArrowLeft' && index > 0) {\n        index -= 1;\n        refs.lightboxImage.dataset.index = index;\n        refs.lightboxImage.src = gallery[index].original;\n        refs.lightboxImage.alt = gallery[index].description;\n    }\n    if (e.code === 'ArrowRight' && index < gallery.length - 1) {\n        index += 1;\n        refs.lightboxImage.dataset.index = index;\n        refs.lightboxImage.src = gallery[index].original;\n        refs.lightboxImage.alt = gallery[index].description;\n    }\n\n}\n//console.log('hey! this is JS')\n"]}